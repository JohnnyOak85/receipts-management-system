# Receipts Management System

This project is a Receipts Management System that fetches, parses, and saves receipts from a financial portal. The system is built using Node.js and JavaScript modules.

## Project Structure

```
src/
    auth.mjs
    constants.mjs
    errors.mjs
    main.mjs
    receipts.mjs
    session.mjs
    tools/
        date.utils.mjs
        decoder.utils.mjs
        extractor.utils.mjs
        file.utils.mjs
        parser.utils.mjs
```

## Installation

1. Clone the repository:

   ```sh
   git clone https://github.com/yourusername/receipts-management-system.git
   cd receipts-management-system
   ```

2. Create a `.env` file in the root directory and add the following environment variables:
   ```env
   USERNAME=your_username
   PASSWORD=your_password
   ```

## Usage

To run the project, execute the following command:

```sh
node src/main.mjs
```

## Project Modules

`src/main.mjs`
The main entry point of the application. It orchestrates the fetching, parsing, and saving of receipts.

`src/auth.mjs`
Handles user authentication and fetching user information.

`src/constants.mjs`
Contains constants used throughout the project, such as URLs and headers.

`src/errors.mjs`
Handles fetch errors by checking the response status.

`src/receipts.mjs`
Fetches and parses receipts from the server.

`src/session.mjs`
Fetches the session and extracts necessary tokens.

`src/tools/`
Contains utility functions used throughout the project.

- `date.utils.mjs`: Functions for handling date-related operations.
- `decoder.utils.mjs`: Functions for decoding HTML entities.
- `extractor.utils.mjs`: Functions for extracting cookies, CSRF tokens, and input values from HTML.
- `file.utils.mjs`: Functions for saving receipts to a JSON file.
- `parser.utils.mjs`: Functions for parsing numeric values.

## Example

Here is an example of the `receipts.json` file generated by the application:

```json
[
  {
    "name": "Uber Eats Portugal Unipessoal Lda",
    "date": "2024-11-15",
    "value": 6.16,
    "nif": 516248022
  },
  {
    "name": "C & S Carnes de Qualidade Lda",
    "date": "2024-11-11",
    "value": 3.59,
    "nif": 513841911
  }
]
```

## Contributing

Contributions are welcome! Please open an issue or submit a pull request for any improvements or bug fixes.
